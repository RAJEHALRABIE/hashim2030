<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª - Ù…ØªØ§Ø¨Ø¹ Ø­Ø§ÙØ² Ø«Ø±Ø§ÙŠÙ</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, sans-serif;
      background: linear-gradient(135deg, #0f172a 0%, #020617 40%, #111827 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      color: #111827;
    }
    .container {
      background: #ffffff;
      border-radius: 20px;
      padding: 26px;
      max-width: 640px;
      width: 100%;
      box-shadow: 0 20px 60px rgba(15,23,42,0.55);
    }
    h1 { font-size: 22px; margin-bottom: 8px; }
    .subtitle { font-size: 13px; color: #6b7280; margin-bottom: 18px; }
    .card {
      background: #f9fafb;
      border-radius: 14px;
      padding: 18px;
      border: 1px solid #e5e7eb;
      margin-bottom: 14px;
    }
    .card h3 { font-size: 15px; margin-bottom: 10px; color: #4f46e5; }
    .data-row {
      display: flex;
      justify-content: space-between;
      padding: 6px 0;
      border-bottom: 1px solid #e5e7eb;
      font-size: 13px;
    }
    .data-row:last-child { border-bottom: none; }
    .label { color: #6b7280; }
    .value { color: #111827; font-weight: 600; }
    .note {
      background: #fff7ed;
      border: 1px solid #fed7aa;
      border-radius: 10px;
      padding: 12px;
      font-size: 12px;
      color: #92400e;
      margin-bottom: 12px;
      line-height: 1.6;
    }
    .alert {
      padding: 10px 12px;
      border-radius: 8px;
      font-size: 13px;
      margin-bottom: 10px;
    }
    .alert-success {
      background: #dcfce7;
      border: 1px solid #bbf7d0;
      color: #166534;
    }
    .alert-error {
      background: #fee2e2;
      border: 1px solid #fecaca;
      color: #b91c1c;
    }
    .btn {
      width: 100%;
      border: none;
      border-radius: 10px;
      padding: 12px 16px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 8px;
      transition: transform 0.15s, box-shadow 0.15s, background 0.15s;
    }
    .btn-primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #ecfdf5;
      box-shadow: 0 10px 25px rgba(22,163,74,0.35);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 14px 30px rgba(22,163,74,0.45);
    }
    .btn-secondary {
      background: #111827;
      color: #e5e7eb;
    }
    .btn-secondary:hover { background: #020617; }
    .footer-note {
      margin-top: 10px;
      font-size: 11px;
      color: #9ca3af;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ”„ Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§ÙØ² Ø§Ù„Ø³Ø§Ø¨Ù‚</h1>
    <p class="subtitle">Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© ØªØ¹ÙŠØ¯ Ø­Ù‚Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø±Ø­Ù„Ø§ØªÙƒ Ø§Ù„Ù€ 20 Ù…Ù† ØªÙ‚Ø±ÙŠØ± Ø«Ø±Ø§ÙŠÙ Ø¯Ø§Ø®Ù„ Ù…ØªØ§Ø¨Ø¹ Ø­Ø§ÙØ² Ø«Ø±Ø§ÙŠÙ.</p>

    <div id="alert-container"></div>

    <div class="card">
      <h3>ğŸ“Š Ù…Ù„Ø®Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØªÙŠ Ø³ÙŠØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯Ù‡Ø§</h3>
      <div class="data-row">
        <span class="label">ÙØªØ±Ø© Ø§Ù„Ø­Ø§ÙØ²</span>
        <span class="value">17 - 23 Ù†ÙˆÙÙ…Ø¨Ø± 2025</span>
      </div>
      <div class="data-row">
        <span class="label">Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø­Ù„Ø§Øª</span>
        <span class="value">20 Ø±Ø­Ù„Ø©</span>
      </div>
      <div class="data-row">
        <span class="label">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„</span>
        <span class="value">12.17 Ø³Ø§Ø¹Ø© ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</span>
      </div>
      <div class="data-row">
        <span class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„</span>
        <span class="value">382.62 Ø±.Ø³</span>
      </div>
      <div class="data-row">
        <span class="label">Ø§Ù„Ø­Ø§ÙØ² Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</span>
        <span class="value">60.00 Ø±.Ø³ (3 Ø±.Ø³ Ã— 20)</span>
      </div>
      <div class="data-row">
        <span class="label">Ù†Ø³Ø¨Ø© ÙˆÙ‚Øª Ø§Ù„Ø°Ø±ÙˆØ©</span>
        <span class="value">61.9Ùª ØªÙ‚Ø±ÙŠØ¨Ù‹Ø§</span>
      </div>
    </div>

    <div class="note">
      <strong>Ù…Ù‡Ù…:</strong><br>
      - Ø³ÙŠØªÙ… Ø§Ø³ØªØ¨Ø¯Ø§Ù„ Ø­Ø§Ù„Ø© Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠØ© Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (20 Ø±Ø­Ù„Ø©).<br>
      - Ø§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ù‡ Ø§Ù„ØµÙØ­Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ù„Ø¥Ø¹Ø§Ø¯Ø© Ø¨Ù†Ø§Ø¡ Ø£Ø³Ø¨ÙˆØ¹ 17â€“23 Ù†ÙˆÙÙ…Ø¨Ø± 2025.<br>
      - Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯ ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø¯ÙˆØ§Øª Ø§Ù„ØªØµØ¯ÙŠØ± Ù…Ù† Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ù„Ù„Ø§Ø­ØªÙØ§Ø¸ Ø¨Ù†Ø³Ø®Ø© Ø§Ø­ØªÙŠØ§Ø·ÙŠØ©.
    </div>

    <button class="btn btn-primary" onclick="importAllData()">âœ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ù€ 20 Ø±Ø­Ù„Ø© Ø§Ù„Ø¢Ù†</button>
    <button class="btn btn-secondary" onclick="goToApp()">ğŸ  Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ø¯ÙˆÙ† Ø§Ø³ØªÙŠØ±Ø§Ø¯</button>

    <div class="footer-note">
      Ø³ÙŠØªÙ… ØªÙˆØ¬ÙŠÙ‡Ùƒ ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§ Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø¹Ø¯ Ù†Ø¬Ø§Ø­ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯.
    </div>
  </div>

  <script>
    const STORAGE_KEY = "thrivve-tracker-v4.2-state";

    // Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø±Ø¬Ø© Ù…Ù† ØªÙ‚Ø±ÙŠØ±Ùƒ (20 Ø±Ø­Ù„Ø©)
    const importedData = {
      weekStart: "2025-11-17T00:00:00.000Z",
      weekEnd: "2025-11-23T23:59:59.999Z",
      settings: {
        minHours: 25,
        minTripsBase: 35,
        peakPercentRequired: 70,
        bonusPerTrip: 3,
        // Ø´Ø±ÙˆØ· Ø«Ø±Ø§ÙŠÙ Ø§Ù„Ø±Ø³Ù…ÙŠØ©
        acceptRate: 65,
        cancelRate: 10
      },
      trips: [
        { start: "2025-11-19T12:31:00", end: "2025-11-19T13:15:00", durationMinutes: 43.6, fare: 22.54, paymentType: "cash",   cashCollected: 35.00, isPeak: true },
        { start: "2025-11-19T13:15:00", end: "2025-11-19T13:35:00", durationMinutes: 19.8, fare: 16.55, paymentType: "card",   cashCollected: 0.00,  isPeak: true },
        { start: "2025-11-19T13:35:00", end: "2025-11-19T13:47:00", durationMinutes: 12.8, fare: 8.26,  paymentType: "card",   cashCollected: 0.00,  isPeak: true },
        { start: "2025-11-19T13:47:00", end: "2025-11-19T14:17:00", durationMinutes: 29.3, fare: 22.95, paymentType: "card",   cashCollected: 0.00,  isPeak: true },
        { start: "2025-11-19T14:17:00", end: "2025-11-19T14:32:00", durationMinutes: 15.6, fare: 11.44, paymentType: "mixed",  cashCollected: 2.50,  isPeak: true },
        { start: "2025-11-19T14:32:00", end: "2025-11-19T16:32:00", durationMinutes: 119.7,fare: 15.22, paymentType: "cash",   cashCollected: 25.00, isPeak: true },
        { start: "2025-11-19T16:32:00", end: "2025-11-19T17:48:00", durationMinutes: 75.8, fare: 37.89, paymentType: "cash",   cashCollected: 41.00, isPeak: true },
        { start: "2025-11-19T17:48:00", end: "2025-11-19T18:37:00", durationMinutes: 48.9, fare: 28.59, paymentType: "card",   cashCollected: 0.00,  isPeak: true },
        { start: "2025-11-19T18:37:00", end: "2025-11-19T19:13:00", durationMinutes: 36.7, fare: 19.97, paymentType: "cash",   cashCollected: 34.00, isPeak: true },
        { start: "2025-11-19T19:14:00", end: "2025-11-19T20:19:00", durationMinutes: 65.4, fare: 25.09, paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-19T20:40:00", end: "2025-11-19T20:40:00", durationMinutes: 0.6,  fare: 7.91,  paymentType: "cash",   cashCollected: 7.91,  isPeak: false },
        { start: "2025-11-19T20:40:00", end: "2025-11-19T20:47:00", durationMinutes: 7.0,  fare: 7.17,  paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-19T20:47:00", end: "2025-11-19T21:18:00", durationMinutes: 30.4, fare: 21.39, paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-19T21:18:00", end: "2025-11-19T21:36:00", durationMinutes: 17.7, fare: 9.59,  paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-19T21:36:00", end: "2025-11-19T22:37:00", durationMinutes: 61.5, fare: 34.09, paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-19T22:37:00", end: "2025-11-19T22:59:00", durationMinutes: 21.5, fare: 27.13, paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-19T22:59:00", end: "2025-11-20T00:12:00", durationMinutes: 73.7, fare: 42.32, paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-20T00:12:00", end: "2025-11-20T00:34:00", durationMinutes: 21.5, fare: 11.39, paymentType: "cash",   cashCollected: 6.00,  isPeak: false },
        { start: "2025-11-20T00:34:00", end: "2025-11-20T00:53:00", durationMinutes: 18.8, fare: 12.13, paymentType: "card",   cashCollected: 0.00,  isPeak: false },
        { start: "2025-11-20T00:53:00", end: "2025-11-20T01:03:00", durationMinutes: 9.8,  fare: 1.00,  paymentType: "cash",   cashCollected: 0.00,  isPeak: false }
      ],
      activeTripStart: null
    };

    function showAlert(message, type) {
      const container = document.getElementById("alert-container");
      container.innerHTML = "";
      const div = document.createElement("div");
      div.className = "alert " + (type === "error" ? "alert-error" : "alert-success");
      div.textContent = message;
      container.appendChild(div);
    }

    function importAllData() {
      try {
        // Ù†Ø¨Ù†ÙŠ Ø§Ù„Ø­Ø§Ù„Ø© Ø¨Ù†ÙØ³ Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ø°ÙŠ ÙŠØ³ØªØ®Ø¯Ù…Ù‡ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
        const withIds = importedData.trips.map((t, index) => ({
          id: Date.now() + index,
          ...t
        }));

        const state = {
          weekStart: importedData.weekStart,
          weekEnd: importedData.weekEnd,
          settings: importedData.settings,
          trips: withIds,
          activeTripStart: null
        };

        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        showAlert("âœ… ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ (20 Ø±Ø­Ù„Ø©) Ø¨Ù†Ø¬Ø§Ø­. Ø³ÙŠØªÙ… ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù†.", "success");
        setTimeout(() => {
          window.location.href = "./index.html";
        }, 1800);
      } catch (e) {
        console.error(e);
        showAlert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯.", "error");
      }
    }

    function goToApp() {
      window.location.href = "./index.html";
    }
  </script>
</body>
</html>
