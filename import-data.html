<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§ÙØ² Ø§Ù„Ø³Ø§Ø¨Ù‚</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #4f46e5 0%, #312e81 30%, #020617 80%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      color: #111827;
    }
    .card {
      background: #ffffff;
      border-radius: 24px;
      padding: 24px 22px;
      width: 100%;
      max-width: 640px;
      box-shadow: 0 24px 80px rgba(15,23,42,0.55);
    }
    h1 {
      font-size: 22px;
      margin-bottom: 4px;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    h1 span.icon { font-size: 22px; }
    .subtitle {
      font-size: 13px;
      color: #6b7280;
      margin-bottom: 18px;
    }
    .table {
      width: 100%;
      border-radius: 18px;
      background: #f9fafb;
      border: 1px solid #e5e7eb;
      overflow: hidden;
      margin-bottom: 16px;
    }
    .table-header {
      padding: 10px 14px;
      background: #eef2ff;
      border-bottom: 1px solid #e5e7eb;
      font-size: 13px;
      font-weight: 600;
      color: #4338ca;
      display: flex;
      align-items: center;
      justify-content: space-between;
    }
    .table-row {
      display: flex;
      justify-content: space-between;
      padding: 8px 14px;
      border-bottom: 1px solid #e5e7eb;
      font-size: 13px;
    }
    .table-row:last-child { border-bottom: none; }
    .label { color: #6b7280; }
    .value { color: #111827; font-weight: 600; }
    .note {
      margin-top: 8px;
      padding: 12px 14px;
      border-radius: 12px;
      background: #fffbeb;
      border: 1px solid #fcd34d;
      font-size: 12px;
      color: #92400e;
      line-height: 1.6;
    }
    .actions {
      margin-top: 18px;
      display: flex;
      flex-direction: column;
      gap: 8px;
    }
    .btn {
      border: none;
      border-radius: 999px;
      padding: 11px 16px;
      font-size: 15px;
      font-weight: 600;
      cursor: pointer;
      width: 100%;
      transition: transform 0.15s, box-shadow 0.15s, background 0.15s;
    }
    .btn-primary {
      background: linear-gradient(135deg, #22c55e, #16a34a);
      color: #ecfdf5;
      box-shadow: 0 14px 35px rgba(22,163,74,0.45);
    }
    .btn-primary:hover {
      transform: translateY(-1px);
      box-shadow: 0 18px 40px rgba(22,163,74,0.55);
    }
    .btn-secondary {
      background: #111827;
      color: #e5e7eb;
    }
    .btn-secondary:hover { background: #020617; }
    .alert {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 10px;
      font-size: 13px;
    }
    .alert-success {
      background: #dcfce7;
      border: 1px solid #bbf7d0;
      color: #166534;
    }
    .alert-error {
      background: #fee2e2;
      border: 1px solid #fecaca;
      color: #b91c1c;
    }
    .footer {
      margin-top: 10px;
      font-size: 11px;
      color: #9ca3af;
      text-align: center;
    }
  </style>
</head>
<body>
  <main class="card">
    <h1><span class="icon">ğŸ“¥</span>Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©</h1>
    <p class="subtitle">
      Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø³Ø¨ÙˆØ¹ Ø­Ø§ÙØ² ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù…Ù† Ø§Ù„ØªÙ‚Ø±ÙŠØ± Ø§Ù„Ù‚Ø¯ÙŠÙ…ØŒ Ù„Ø¹Ø±Ø¶Ù‡ ÙƒÙ…Ø±Ø¬Ø¹ Ø¯Ø§Ø®Ù„ Ù…ØªØ§Ø¨Ø¹ Ø­Ø§ÙØ² Ø«Ø±Ø§ÙŠÙ.
    </p>

    <section class="table" aria-label="Ù…Ù„Ø®Øµ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯Ø©">
      <header class="table-header">
        <span>Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªÙˆØ±Ø¯Ø©</span>
        <span>ğŸ“Š Ù…Ù„Ø®Øµ Ø«Ø§Ø¨Øª</span>
      </header>
      <div class="table-row">
        <span class="label">ÙØªØ±Ø© Ø§Ù„Ø­Ø§ÙØ²</span>
        <span class="value">17 - 23 Ù†ÙˆÙÙ…Ø¨Ø± 2025</span>
      </div>
      <div class="table-row">
        <span class="label">Ø¹Ø¯Ø¯ Ø§Ù„Ø±Ø­Ù„Ø§Øª</span>
        <span class="value">20 Ø±Ø­Ù„Ø©</span>
      </div>
      <div class="table-row">
        <span class="label">Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ (Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠØ©)</span>
        <span class="value">12.17 Ø³Ø§Ø¹Ø©</span>
      </div>
      <div class="table-row">
        <span class="label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„ Ù…Ù† Ø§Ù„Ø±Ø­Ù„Ø§Øª</span>
        <span class="value">382.62 Ø±.Ø³</span>
      </div>
      <div class="table-row">
        <span class="label">Ø§Ù„Ø­Ø§ÙØ² Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</span>
        <span class="value">60.00 Ø±.Ø³ (3 Ø±.Ø³ Ã— 20 Ø±Ø­Ù„Ø©)</span>
      </div>
      <div class="table-row">
        <span class="label">Ù†Ø³Ø¨Ø© ÙˆÙ‚Øª Ø§Ù„Ø°Ø±ÙˆØ© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠØ©</span>
        <span class="value">61.9Ùª</span>
      </div>
    </section>

    <p class="note">
      Ø³ÙŠØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ø£Ø³Ø¨ÙˆØ¹ ÙˆØ§Ø­Ø¯ Ø¯Ø§Ø®Ù„ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø¨Ù‡Ø°Ù‡ Ø§Ù„Ù‚ÙŠÙ… Ø¨Ø§Ù„Ø¶Ø¨Ø·:
      <strong>Ø³Ø§Ø¹Ø§Øª = 12.17</strong>ØŒ
      <strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¯Ø®Ù„ = 382.62 Ø±.Ø³</strong>ØŒ
      <strong>Ù†Ø³Ø¨Ø© Ø§Ù„Ø°Ø±ÙˆØ© â‰ˆ 61.9Ùª</strong>.
      Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ÙŠØ³ØªØ®Ø¯Ù… ÙƒÙ…Ø±Ø¬Ø¹ ÙÙ‚Ø·ØŒ ÙˆÙ„Ø§ ÙŠØºÙŠÙ‘Ø± Ø´Ø±ÙˆØ· Ø£Ùˆ Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø­Ø§Ù„ÙŠ (Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø­Ø¯).
    </p>

    <div id="alert" class="alert" style="display:none"></div>

    <section class="actions">
      <button class="btn btn-primary" onclick="importAllData()">âœ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„Ø¢Ù†</button>
      <button class="btn btn-secondary" onclick="goToApp()">ğŸ  Ø§Ù„Ø°Ù‡Ø§Ø¨ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚ Ù…Ø¨Ø§Ø´Ø±Ø©</button>
    </section>

    <p class="footer">
      ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‡Ø°Ù‡ Ø§Ù„Ø£Ø¯Ø§Ø© Ù…Ø±Ø© ÙˆØ§Ø­Ø¯Ø© ÙÙ‚Ø· Ù„Ù‡Ø°Ø§ Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠØŒ
      Ø«Ù… Ø§Ù„Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¹Ù„Ù‰ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ø¯ÙŠ Ù„Ù…ØªØ§Ø¨Ø¹Ø© Ø§Ù„Ø­Ø§ÙØ² Ø§Ù„Ø­Ø§Ù„ÙŠ.
    </p>
  </main>

  <script>
    const STORAGE_KEY = "thrivve-tracker-v4.2-state";

    // Ø§Ù„Ù…Ø¯Ø¯ Ø¨Ø§Ù„Ø¯Ù‚Ø§Ø¦Ù‚ Ù…Ù† ØªÙ‚Ø±ÙŠØ± Ø£ÙˆØ¨Ø± (Ù…Ø¬Ù…ÙˆØ¹Ù‡Ø§ â‰ˆ 730.10 Ø¯Ù‚ÙŠÙ‚Ø© = 12.17 Ø³Ø§Ø¹Ø©)
    const durations = [
      43.6, 19.8, 12.8, 29.3, 15.6,
      119.7, 75.8, 48.9, 36.7, 65.4,
      0.6, 7.0, 30.4, 17.7, 61.5,
      21.5, 73.7, 21.5, 18.8, 9.8
    ];

    // Ù‚ÙŠÙ… Ø§Ù„Ø±Ø­Ù„Ø§Øª Ø¨Ø§Ù„Ø±ÙŠØ§Ù„ (Ù…Ø¬Ù…ÙˆØ¹Ù‡Ø§ = 382.62 Ø±.Ø³)
    const fares = [
      22.54, 16.55, 8.26, 22.95, 11.44,
      15.22, 37.89, 28.59, 19.97, 25.09,
      7.91, 7.17, 21.39, 9.59, 34.09,
      27.13, 42.32, 11.39, 12.13, 1.00
    ];

    // Ù…Ø¬Ù…ÙˆØ¹Ø© Ø±Ø­Ù„Ø§Øª Ù†Ø¹ØªØ¨Ø±Ù‡Ø§ ÙÙŠ ÙˆÙ‚Øª Ø§Ù„Ø°Ø±ÙˆØ© Ù„ØªØ¹Ø·ÙŠ â‰ˆ 61.9Ùª
    const peakIndices = [1, 2, 5, 7, 8, 9, 10, 11, 13, 14, 15, 17, 18];

    function buildImportedState() {
      const trips = [];

      for (let i = 0; i < durations.length; i++) {
        const durationMinutes = durations[i];
        const fare = fares[i];
        const isPeak = peakIndices.includes(i);

        // ØªÙˆØ§Ø±ÙŠØ® ØªÙ‚Ø±ÙŠØ¨ÙŠØ© Ø¶Ù…Ù† Ø§Ù„ÙØªØ±Ø© ÙÙ‚Ø· Ù„Ù„Ø¹Ø±Ø¶
        const base = new Date("2025-11-19T12:00:00");
        const start = new Date(base.getTime() + i * 30 * 60000);
        const end = new Date(start.getTime() + durationMinutes * 60000);

        trips.push({
          id: Date.now() + i,
          start: start.toISOString(),
          end: end.toISOString(),
          durationMinutes,
          fare,
          paymentType: "mixed",
          cashCollected: 0,
          isPeak
        });
      }

      // ğŸ”§ Ù‡Ù†Ø§ Ù†Ø«Ø¨Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹: Ù…Ù† Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 17 Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø­Ø¯ 23 Ø¨Ø§Ù„Ø¶Ø¨Ø·
      const monday = new Date("2025-11-17T00:00:00");
      monday.setHours(0, 0, 0, 0);
      const sunday = new Date(monday);
      sunday.setDate(sunday.getDate() + 6); // Ø§Ù„Ø£Ø­Ø¯

      return {
        weekStart: monday.toISOString(),   // Ø§Ù„Ø¥Ø«Ù†ÙŠÙ† 17/11/2025
        weekEnd: sunday.toISOString(),     // Ø§Ù„Ø£Ø­Ø¯ 23/11/2025 (Ø¨Ø¯ÙˆÙ† Ø§Ù†Ø²Ù„Ø§Ù‚ Ù„Ù„Ø§Ø«Ù†ÙŠÙ†)
        settings: {
          minHours: 25,
          minTripsBase: 35,
          peakPercentRequired: 70,
          bonusPerTrip: 3,
          acceptRate: 93,
          cancelRate: 1
        },
        trips,
        activeTripStart: null,
        // Ù„Ø§ Ù†Ø±ÙŠØ¯ Ø£Ù† ÙŠØ¹ÙŠØ¯ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø­Ø³Ø§Ø¨ Ø§Ù„Ø°Ø±ÙˆØ© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ isPeakTime
        peakMigratedV2: true
      };
    }

    function showAlert(message, type) {
      const el = document.getElementById("alert");
      el.textContent = message;
      el.className = "alert " + (type === "error" ? "alert-error" : "alert-success");
      el.style.display = "block";
    }

    function importAllData() {
      try {
        const state = buildImportedState();
        localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
        showAlert("âœ… ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ø¨Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„ØµØ­ÙŠØ­Ø©. Ø³ÙŠØªÙ… ÙØªØ­ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ Ø§Ù„Ø¢Ù†.", "success");
        setTimeout(() => {
          window.location.href = "./index.html";
        }, 1600);
      } catch (err) {
        console.error(err);
        showAlert("âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ ØºÙŠØ± Ù…ØªÙˆÙ‚Ø¹ Ø£Ø«Ù†Ø§Ø¡ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯.", "error");
      }
    }

    function goToApp() {
      window.location.href = "./index.html";
    }
  </script>
</body>
</html>
